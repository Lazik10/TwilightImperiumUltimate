<VerticalSpace Height="20" />

<FlexColumnCenteredContainer>

    <EnumPicker TEnum="TiglLeague"
        Label="@Strings.TiglLeague_League"
        CenterText=true CurrentValue="_league" 
        ExcludeValues="new List<TiglLeague>() { TiglLeague.Test }"
        CurrentValueChanged="ChangeLeague"
        Width="50"
        MinChoiceWidth="70"/>

</FlexColumnCenteredContainer>

<VerticalSpace Height="20" />

<FlexColumnCenteredContainer CssClass="background">
    <VerticalSpace Height="20" />
    <FlexRowContainer>
        <Label Text="Username" PaddingLeft="50" Width="30" />
        <Label Text="Prestige" CenterText=true Width="30" />
        <Label Text="Rank" CenterText=true Width="30" />
        <Label Text="Games" CenterText=true Width="10" />
        <Label Text="Last Rank Up" CenterText=true Width="20" />
    </FlexRowContainer>
    <VerticalSpace Height="20" />
</FlexColumnCenteredContainer>

@if (!_loading)
{
    @if (_groupedRankings?.Count > 0)
    {
        @foreach (var group in _groupedRankings)
        {
            <VerticalSpace Height="50" />

            <Label Text="@(group.Key + " (" + group.Value.Count + ")")" CenterText="true" TextColor="TextColor.Yellow" FontSize="16"/>

            <VerticalSpace Height="5" />

            @foreach (var rank in group.Value)
            {
                <RankRow Ranking="rank" PrestigeRankText="@group.Key" />
            }

            <VerticalSpace Height="20" />
        }
    }
    else
    {
        <VerticalSpace Height="50" />
        <Label Text="No Data" CenterText="true" />
        <VerticalSpace Height="50" />
    }
}
else
{
    <VerticalSpace Height="50" />
    <Label Text="@Strings.Loading" CenterText="true" />
    <VerticalSpace Height="50" />
}