@using TwilightImperiumUltimate.Contracts.DTOs.Tigl

<FlexColumnCenteredContainer>

    <FlexColumnCenteredContainer Width="70">

        <VerticalSpace Height="20" />
        <Label Text="Manual User Registration" FontSize="32" CenterText="true" />
        <VerticalSpace Height="20" />

        @if (_loading)
        {
            <VerticalSpace Height="30" />
            <Label Text="...Loading registration parameters..." CenterText="true" />
            <VerticalSpace Height="30" />
        }
        else if (!_manualRegisterEnabled)
        {
            <HelpText Text="Manual registration is disabled. Enable 'Test Registrations' in Parameters to use this form." />
            <VerticalSpace Height="20" />
        }
        else
        {
            <Title Text="Test Registration (Manual)" MarginTop="10" MarginBottom="10" FontSize="22" TextColor="TextColor.Yellow" />
            <HelpText Text="This form is visible because 'Test Registrations' parameter is enabled." />
            <VerticalSpace Height="20" />

            @if (!string.IsNullOrWhiteSpace(_manualRegisterError))
            {
                <Label Text="@_manualRegisterError" TextColor="TextColor.Red" />
                <VerticalSpace Height="10" />
            }

            <GridLayout CssClass="background" Style="grid-template-columns: 25% 75%; row-gap:10px;">
                <Label Text="Discord ID" />
                <input class="handel white" style="width:95%; color:black;" @bind="_newUser.DiscordId" />

                <Label Text="Discord Tag (Username)" />
                <input class="handel white" style="width:95%; color:black;" @bind="_newUser.DiscordTag" />

                <Label Text="TIGL Username" />
                <input class="handel white" style="width:95%; color:black;" @bind="_newUser.TiglUserName" />
            </GridLayout>

            <VerticalSpace Height="20" />
            @if (_manualRegisterSuccess)
            {
                <Label Text="User registered successfully." TextColor="TextColor.Green" CenterText="true" />
                <VerticalSpace Height="10" />
            }
            <Button ButtonText="Register User" OnClick="ManualRegisterUser" IsDisabled="@_manualRegistering" />
            <VerticalSpace Height="20" />
        }

    </FlexColumnCenteredContainer>

</FlexColumnCenteredContainer>
