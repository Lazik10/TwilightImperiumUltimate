@page "/account/info"
@using TwilightImperiumUltimate.Web.Components.Shared
@using TwilightImperiumUltimate.Web.Components.Shared.Controls
@using TwilightImperiumUltimate.Web.Components.Shared.Layouts
@using TwilightImperiumUltimate.Web.Components.Shared.Text
@using TwilightImperiumUltimate.Web.Resources

<PageTitle>@Strings.Page_AccountInfo</PageTitle>

<Page>

    <Label Text="@Strings.User_AccountInfo" FontSize="36" CenterText="true"/>

    <VerticalSpace Height="50" />

    <FlexRowContainer Width="50" AlignItems="Enums.AlignItems.Center" JustifyContent="Enums.JustifyContent.SpaceEvenly">
        <Label Text="@Strings.User_UserName" />
        <Label Text="@User!.UserName" />
    </FlexRowContainer>

    <VerticalSpace Height="20" />

    <FlexRowContainer Width="50" AlignItems="Enums.AlignItems.Center" JustifyContent="Enums.JustifyContent.SpaceEvenly">
        <Label Text="@Strings.User_FirstName" />
        <RadzenTextBox @bind-Value="User!.FirstName"
                        class="w-100 flex-row title white handel" />
    </FlexRowContainer>

    <VerticalSpace Height="20" />

    <FlexRowContainer Width="50" AlignItems="Enums.AlignItems.Center" JustifyContent="Enums.JustifyContent.SpaceEvenly">
        <Label Text="@Strings.User_LastName" />
        <RadzenTextBox @bind-Value="User!.LastName"
                        class="w-100 flex-row title white handel" />
    </FlexRowContainer>

    <VerticalSpace Height="20" />

    <FlexRowContainer Width="50" AlignItems="Enums.AlignItems.Center" JustifyContent="Enums.JustifyContent.SpaceEvenly">
        <Label Text="@Strings.User_Email" />
        <RadzenTextBox @bind-Value="User!.Email"
                        class="w-100 flex-row title white handel" />
    </FlexRowContainer>

    <VerticalSpace Height="20" />

    <FlexRowContainer Width="50" AlignItems="Enums.AlignItems.Center" JustifyContent="Enums.JustifyContent.SpaceEvenly">
        <Label Text="@Strings.User_Age" />
        <NumericPicker Value="Age" HideTitle="true" OnIncrease="IncreaaeAge" OnDecrease="DecreaseAge"/>
    </FlexRowContainer>

    <VerticalSpace Height="20" />

    <FlexRowContainer Width="50" AlignItems="Enums.AlignItems.Center" JustifyContent="Enums.JustifyContent.SpaceEvenly">
        <Label Text="@Strings.User_PhoneNumber" />
        <RadzenTextBox @bind-Value="User!.PhoneNumber"
                        class="w-100 flex-row title white handel" />
    </FlexRowContainer>

    <VerticalSpace Height="20" />

    <FlexRowContainer Width="50" AlignItems="Enums.AlignItems.Center" JustifyContent="Enums.JustifyContent.SpaceEvenly">
        <Label Text="@Strings.User_UserInfo" />
        <RadzenTextBox @bind-Value="User!.UserInfo"
                        class="w-100 flex-row title white handel" />
    </FlexRowContainer>

    <VerticalSpace Height="20" />

    <FlexRowContainer Width="50" AlignItems="Enums.AlignItems.Center" JustifyContent="Enums.JustifyContent.SpaceEvenly">
        <Label Text="@Strings.User_FavoriteFaction" />
        <FactionPicker Value="@(FavoriteFaction)" OnIncrease="ShowNextFaction" OnDecrease="ShowPreviousFaction" />"
    </FlexRowContainer>

    <VerticalSpace Height="20" />

    <FlexRowContainer Width="50" AlignItems="Enums.AlignItems.Center" JustifyContent="Enums.JustifyContent.SpaceEvenly">
        <Label Text="@Strings.User_DiscordId" />
        <RadzenTextBox @bind-Value="User!.DiscordId"
                        class="w-100 flex-row title white handel" />
    </FlexRowContainer>

    <VerticalSpace Height="20" />

    <FlexRowContainer Width="50" AlignItems="Enums.AlignItems.Center" JustifyContent="Enums.JustifyContent.SpaceEvenly">
        <Label Text="@Strings.User_SteamId" />
        <RadzenTextBox @bind-Value="User!.SteamId"
                        class="w-100 flex-row title white handel" />
    </FlexRowContainer>

    <VerticalSpace Height="50" />

    <FlexRowContainer AlignItems="Enums.AlignItems.Center" JustifyContent="Enums.JustifyContent.Center" Width="50">
        <Button ButtonText="@Strings.AccountInfo_Save" OnClick="@SaveInfo" CssClass="button" />
    </FlexRowContainer>

    <VerticalSpace Height="20" />

    @if(_updateSend && _infoSaved)
    {
        <Label Text="@Strings.UserInfo_UpdateSuccess" CenterText="true" FontSize="18" TextColor="TextColor.Green" />
    }
    else if (_updateSend && !_infoSaved)
    {
        <Label Text="@Strings.UserInfo_UpdateFailed" CenterText="true" FontSize="18" TextColor="TextColor.Red" />        
    }

</Page>